<%- include('partials/header.ejs') %>

<div class="container small-container">
    <div class="notes-header">
        <img src="../assets/gradient.jpg" class="notes-img" alt="Book Cover">
        <span>
            <h1><%= book.title %></h1>
            <h5>By <%= book.author %></h5>
            <% if (book.status) { %>
                <span class="badge rounded-pill read-badge">Read</span>
            <% } else { %>
                <span class="badge rounded-pill to-read-badge">To Read</span>
            <% } %>
        </span>
    </div>
    
    <div class="notes-info">
        <!-- <p>ISBN: <%= book.isbn %></p> -->
        
        <% if (book.read_date) { %>
            <p class="book-card-text">Read: <%= formatPostgresDate(book.read_date) %></p>
        <% } %>
        <% if (book.rating) { %>
            <p class="book-card-text">Rating: <%= book.rating %>/5</p>
        <% } %>
    </div>

    <div class="notes-body">
        <% if (book.notes) { %>
            <h3>My Notes</h1>
            <p class="book-card-text"><%= book.notes %></p>
        <% } %>
    </div>
    
    <div class="notes-buttons">
        <a href="/edit/<%= book.id %>" class="btn edit-btn">Edit</a>
        <button type="button" class="btn delete-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Delete
          </button>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Hold your horses!</h1>
            </div>
            <div class="modal-body">
              Are you sure you want to delete this entry?
            </div>
            <div class="modal-footer">
                <a href="/delete/<%= book.id %>" class="btn delete-btn">Delete</a>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
</div>

<script>

</script>
<%- include('partials/footer.ejs') %>
